{% extends "base.html" %}

{% block title %}Request Leave{% endblock %}

{% block content %}
    <h2>Request Leave</h2>

    <!-- Flash messages -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul>
                {% for message in messages %}
                    <li>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <!-- Leave Request Form -->
    <form action="{{ url_for('leave_request') }}" method="POST">
        <!-- Teacher Selection Dropdown -->
        <div>
            <label for="teacher_id">Teacher:</label>
            <select id="teacher_id" name="teacher_id" required>
                <option value="">Select a teacher</option>
                {% for teacher in teachers %}
                    <option value="{{ teacher.id }}">{{ teacher.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Start Date -->
        <div>
            <label for="start_date">Start Date:</label>
            <input type="date" id="start_date" name="start_date" required>
        </div>

        <!-- End Date -->
        <div>
            <label for="end_date">End Date:</label>
            <input type="date" id="end_date" name="end_date" required>
        </div>

        <!-- Reason for Leave -->
        <div>
            <label for="reason">Reason:</label>
            <textarea id="reason" name="reason" rows="4" required></textarea>
        </div>

        <!-- Submit Button -->
        <div>
            <button type="submit">Submit Leave Request</button>
        </div>
    </form>
{% endblock %}