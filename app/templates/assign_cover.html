{% extends "base.html" %}

{% block title %}Assign Cover{% endblock %}

{% block content %}
<h2>Assign Cover for {{ leave_request.teacher.name }}</h2>
<p>Leave Dates: {{ leave_request.start_date }} to {{ leave_request.end_date }}</p>

<form method="POST">
    {% for slot in teaching_slots %}
        <div>
            <h4>{{ slot.date }}</h4>
            <p>Period Number: {{ slot.period_number }}</p>
            <p>Lesson: {{ slot.lesson_name if slot.lesson_name else 'No lesson assigned' }}</p>
            <label for="cover_teacher_{{ slot.period_number }}">Select Cover Teacher:</label>
            <select name="cover_teacher_{{ slot.period_number }}" id="cover_teacher_{{ slot.period_number }}">
                <option value="">-- Select Teacher --</option>
                {% for teacher in available_teachers %}
                    <option value="{{ teacher.id }}">{{ teacher.name }}</option>
                {% endfor %}
            </select>
        </div>
        <hr>
    {% endfor %}
    <button type="submit">Assign Covers</button>
</form>

{% endblock %}